# 2026-01-31

## Archimedes VPS Deployment

**Deployed Archimedes (formerly Clawdbot) on VPS:**

| Component | Value |
|-----------|-------|
| VPS IP | 72.61.78.89 |
| Tailscale IP | 100.66.39.11 |
| Gateway URL | ws://100.66.39.11:18789 |
| Control UI | http://100.66.39.11:18789 |
| Auth Token | archimedes-vps-token-2026 |
| Service | archimedes.service (systemd user) |
| Workspace | /home/mani/archimedes |

**Setup completed:**
- ✅ Installed via npm to ~/.npm-global
- ✅ Synced workspace from Mac
- ✅ Configured with Anthropic API key
- ✅ Bound to Tailscale (tailnet-only access)
- ✅ Running as systemd user service
- ✅ Linger enabled (survives logout)

**Commands:**
```bash
# SSH to VPS
ssh -i ~/.ssh/mani_vps mani@72.61.78.89

# Service management
systemctl --user status archimedes
systemctl --user restart archimedes
systemctl --user stop archimedes

# Logs
journalctl --user -u archimedes -f
tail -f /tmp/clawdbot/clawdbot-2026-01-31.log
```

**Naming note:** Dr. Mani wants to use "Archimedes" exclusively. The underlying package is still "clawdbot" but we refer to it as Archimedes.

## Session: Mac → VPS Migration Complete

**Completed this session:**
- Deployed Archimedes on VPS as systemd service
- Configured Telegram (@archimedes_drmani_bot)
- Paired Dr. Mani's Telegram (user id: 7385041804)
- Pointed VPS to localhost:8001 for Daedalus
- Merged feature/001-hexis-integration to master
- **Sunsetting Mac Archimedes** — VPS is now primary

**Access VPS Archimedes:**
- Telegram: @archimedes_drmani_bot
- Webchat: http://100.66.39.11:18789
- Requires Tailscale connection

**Naming:** Use "Archimedes" exclusively (not Clawdbot/Moltbot)

## TODO
- [ ] Consider Discord on VPS if needed later
- [ ] Phase 5: Heartbeat integration
- [ ] Phase 6: Polish and error handling

---

## Session: Hexis-Dionysus Integration (09:00-10:00 UTC)

**Major accomplishments:**

### Phase 1: Dionysus Pipeline Fixed
- Fixed `execute_query` parameter passing (`params=` not `parameters_=`)
- Fixed divide-by-zero bug in basin stats recording
- Basin activation working (strength tracking up to 1.18)
- Connected Graphiti container to dionysus-api Docker network

### Phase 2: Auto-Ingestion Complete
- Created `/home/mani/archimedes/scripts/auto-ingest.sh`
- POSTs to both Dionysus (localhost:8000) and Hexis (localhost:8001)
- Added to AGENTS.md as mandatory behavior
- Every message now flows to both Neo4j and PostgreSQL

### Phase 3: Hydration Complete
- Created `/home/mani/archimedes/scripts/hydrate.sh`
- Queries both Hexis (vector search) and Dionysus (graph context)
- Added to AGENTS.md as mandatory behavior before complex questions

### Phase 4: Memory Migration Complete
- Created `/home/mani/archimedes/scripts/migrate-memory.sh`
- Migrated MEMORY.md to both databases:
  - Hexis: 10/10 sections ✅
  - Dionysus: ~8/10 sections ✅
- Verified recall works (HBD Sales Funnel test)

### Workspace Sync Complete
- Git repo: `bionicbutterfly13/archimedes-workspace`
- VPS auto-pulls every 15 min via cron
- SSH from VPS to Mac working (100.124.208.15)

### Architecture Now Working
```
User Message → Archimedes
    ↓
auto-ingest.sh (background)
    ↓
┌─────────────────────┬─────────────────────┐
│ Dionysus :8000      │ Hexis :8001         │
│ Basin Router        │ Vector Storage      │
│ → MemEvolve         │ (PostgreSQL)        │
│ → Graphiti          │                     │
│ → Neo4j             │                     │
└─────────────────────┴─────────────────────┘
    ↓
hydrate.sh (before responding)
    ↓
Context-aware response
```

### Conductor Status
- Track: 001-hexis-integration
- Phases 0-4: Complete ✅
- Phases 5-6: Pending (Heartbeat, Polish)

## Tailscale Setup
Both Mac and VPS are on same tailnet:
- VPS (srv1192489): 100.66.39.11
- Mac (manis-macbook-pro): 100.124.208.15

Surfshark = privacy VPN (internet anonymity)
Tailscale = mesh VPN (device-to-device secure network)
Keep both - different purposes.
