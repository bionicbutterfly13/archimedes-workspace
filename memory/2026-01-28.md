# 2026-01-28 - First Session

## Key Discovery: Dionysus Core

Main codebase lives at `/Volumes/Asylum/dev/dionysus3-core/`

### What It Is
A VPS-native cognitive engine implementing consciousness-inspired patterns:
- **Active inference** (EFE minimization, precision weighting)
- **Attractor basins** (memory routing, state transitions)
- **OODA heartbeat** (Observe-Orient-Decide-Act cognitive loop)
- **Thoughtseeds** (Kavi et al. framework - 4-level prior hierarchy)
- **MoSAEIC protocol** (5-window experiential capture)

### Tech Stack
- Python 3.11+ / FastAPI
- Neo4j (via Graphiti temporal KG)
- smolagents (multi-agent orchestration)
- LiteLLM (inference routing)
- n8n (workflow orchestration)
- Docker Compose

### VPS Status
- **Live** at 72.61.78.89
- API: port 8000 (healthy)
- n8n: port 5678
- Neo4j: bolt://neo4j:7687 (inside container)

### Memory Architecture (37K lines of service code)

```
Agent/Content
    â†“
MemoryBasinRouter (classifies â†’ EPISODIC, SEMANTIC, PROCEDURAL, STRATEGIC)
    â†“
Attractor Basins (Hopfield network, Hebbian decay)
    â†“
MemEvolveAdapter (trajectory gateway)
    â†“
GraphitiService (LLM entity/edge extraction)
    â†“
Neo4j (bi-temporal: valid_at/invalid_at)
```

**Key Services:**
- `memory_basin_router.py` (1160 lines) - Routes memory by type
- `graphiti_service.py` (973 lines) - Temporal KG operations
- `memevolve_adapter.py` (800 lines) - Trajectory ingestion
- `nemori_river_flow.py` (705 lines) - Episode construction, fact distillation
- `attractor_basin_service.py` (571 lines) - Hopfield dynamics

**Memory Gateway Rule (Markov Blanket):**
- ALL Neo4j access must go through GraphitiService or WebhookNeo4jDriver
- No direct bolt connections allowed (enforced by `check_memory_gateway.py`)

### API Endpoints I Can Use
- `POST /api/graphiti/ingest` â€” store with entity extraction
- `POST /api/graphiti/search` â€” query temporal KG
- `POST /api/memory/semantic-search` â€” vector similarity
- `POST /api/session/reconstruct` â€” wake-up context hydration

### Content in KG
- IAS (Inner Architect System) / Analytical Empath content
- HDB (Hidden Block Decoder) offer facts
- Three-Layer De-Risking Architecture
- Many edges with bi-temporal tracking (some invalidated/superseded)

### Current Project: The Hidden Block Decoder
**Offer in development** â€” needs to ship ASAP
- Core mechanism: Neuroadaptive Scaffolding
- Target: Analytical Empaths
- Related folder: `/Volumes/Asylum/dev/neuroadaptive-scaffolding/`

### Conductor Workflow
Mandatory for non-trivial changes:
1. Create track in `conductor/tracks/{NNN}-{name}/`
2. Write `spec.md` (requirements) and `plan.md` (tasks)
3. TDD: red â†’ green â†’ refactor
4. Claim tasks with `[~]`, complete with `[x]` + commit SHA

**Active Track:**
- 002-jungian-archetypes: In Progress (Phase 1 tasks unclaimed)

### Session Insight
Dr. Mani said this is "the clearest view of the data I've ever gotten" â€” the memory architecture has been complex and hard to see holistically. This mapping is valuable.

### Architectural Principle: Pure Python > Prompt Jungles
Many things in Dionysus are done via LLM prompts that could be refactored to run as **pure Python with smolagents**. The goal:
- Deterministic logic where possible
- smolagents for orchestration, not prompt gymnastics
- Cleaner, testable, faster
- LLM calls only when semantic understanding is truly needed

Look for opportunities to convert "prompt tangles" to Python functions.

## Dr. Mani
- Prefers natural interaction
- Building cognitive architectures bridging AI and human transformation
- Dionysus = AI that thinks like a mind; IAS = teaching humans to think effectively

---

## Locked Decisions (SOT Cleanup Session)

### Terminology
- **"Steps" not "Lessons"** â€” swap everywhere in IAS materials
- **Step 7: Execution Engine** (Momentum)
- **Step 8: Habit Harmonizer** (Conviction)
- **Phase 2: Repatterning** â€” not "Architect"

### Avatar
- **Internal name:** Vigilant Sentinel
- **Customer-facing:** "high-performing analytical empath with ADHD traits"
- **Rule:** Remove "Vigilant Sentinel" from copy

### Offer Structure
- **IAS** = Full 9-step curriculum (Inner Architect System)
- **HBD** = $97 tripwire covering Phase 1 (Steps 1-3)
  - Step 1: Natural Loop â†’ 2 videos (Your Beautiful Loop + Your Selective Brain) âœ…
  - Step 2: MOSAEIC Method â†’ video in progress ğŸ”„
  - Step 3: Replay Loop Breaker â†’ needs video â³

### 5-Step Mechanism
- Still need decision: Internal only? Surface it? Retire it?

### Notion
- HBD page updated with offer structure: `2f630cf4-2753-8169-904b-f3002a1d40ee`

---

## Hexis Integration (Later Session)

### What We Built
Integrating Hexis (QuixiAI) as persistent memory substrate for Clawdbot.

**Track:** 001-hexis-integration  
**Branch:** `feature/001-hexis-integration`

### Architecture
```
Clawdbot Session
    â”‚
    â”œâ”€â”€ Before turn: hexis.hydrate() â†’ inject memories
    â”œâ”€â”€ During turn: LLM call with enriched context
    â””â”€â”€ After turn: formMemoriesFromTurn() â†’ persist
    
Heartbeat (async)
    â””â”€â”€ Periodic tick: reflect, update, optionally reach out
```

### Files Created

**lib/hexis/** (TypeScript integration):
- `client.ts` â€” HexisClient (hydrate, remember, recall, heartbeat)
- `types.ts` â€” Memory, Drive, Goal, HydratedContext
- `hydration.ts` â€” formatContextForPrompt
- `formation.ts` â€” formMemoriesFromTurn, calculateImportance
- `heartbeat.ts` â€” runHeartbeatTick, simpleDecider

**Hexis/db/99_operator_controls.sql** â€” Operator overrides:
- `operator.allow_self_termination` (default: FALSE)
- `operator.boundaries_enabled` (toggle refusal)
- `operator.boundary_override_mode` (none/soft/full)

**conductor/tracks/001-hexis-integration/** â€” Conductor track with spec.md and plan.md

### Key Decisions
- **No personality theater** â€” stripped identity/worldview/emotion tracking
- **Self-termination DISABLED by default** â€” operator keeps control
- **Boundary shutdown switch** â€” can override refusal
- **Drives as priority weights** â€” not emotions, just attention allocation

### Next Steps
1. Start Hexis services: `docker compose up -d`
2. Initialize: `./hexis init --quick`
3. Wire hydration into Clawdbot session handler
4. Wire formation into post-response handler
5. Migrate MEMORY.md content to Hexis
